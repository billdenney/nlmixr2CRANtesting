==8561== Memcheck, a memory error detector
==8561== Copyright (C) 2002-2017, and GNU GPL'd, by Julian Seward et al.
==8561== Using Valgrind-3.18.1 and LibVEX; rerun with -h for copyright info
==8561== Command: /usr/lib/R/bin/exec/R -e devtools::load_all();devtools::test()
==8561== 

R version 4.2.2 Patched (2022-11-10 r83330) -- "Innocent and Trusting"
Copyright (C) 2022 The R Foundation for Statistical Computing
Platform: x86_64-pc-linux-gnu (64-bit)

R is free software and comes with ABSOLUTELY NO WARRANTY.
You are welcome to redistribute it under certain conditions.
Type 'license()' or 'licence()' for distribution details.

  Natural language support but running in an English locale

R is a collaborative project with many contributors.
Type 'contributors()' for more information and
'citation()' on how to cite R or R packages in publications.

Type 'demo()' for some demos, 'help()' for on-line help, or
'help.start()' for an HTML browser interface to help.
Type 'q()' to quit R.

> devtools::load_all();devtools::test()
ℹ Loading rxode2random
Exports from /home/bill/GitHub/nlmixr2CRANtesting/packages/rxode2random/src/cvPost.cpp:
   NumericVector rinvchisq(const int n = 1, const double& nu = 1.0, const double& scale = 1)
   arma::mat rLKJ1(int d, double eta = 1.0, bool cholesky = false)
   arma::mat rLKJcv1(arma::vec sd, double eta = 1.0)
   arma::mat rLKJcvLsd1(arma::vec logSd, arma::vec logSdSD, double eta = 1.0)
   arma::mat invWR1d(int d, double nu, bool omegaIsChol = false)
   arma::mat rcvC1(arma::vec sdEst, double nu = 3.0, int diagXformType = 1, int rType = 1, bool returnChol = false)
   SEXP cvPost_(SEXP nuS, SEXP omegaS, SEXP nS, SEXP omegaIsCholS, SEXP returnCholS, SEXP typeS, SEXP diagXformTypeS)
   SEXP expandTheta_(SEXP thetaS, SEXP thetaMatS, SEXP thetaLowerS, SEXP thetaUpperS, SEXP nStudS, SEXP nCoresRVS)
   SEXP expandPars_(SEXP objectS, SEXP paramsS, SEXP eventsS, SEXP controlS)
   SEXP nestingInfo_(SEXP omega, List data)

Exports from /home/bill/GitHub/nlmixr2CRANtesting/packages/rxode2random/src/fast_factor.cpp:
   SEXP convertId_(SEXP x)

Exports from /home/bill/GitHub/nlmixr2CRANtesting/packages/rxode2random/src/rxthreefry.cpp:
   SEXP rxRmvn_(NumericMatrix A_, arma::rowvec mu, arma::mat sigma, int ncores = 1, bool isChol = false)
   List rxMvnrnd(int n, arma::mat& L, arma::vec& l, arma::vec& u, arma::vec mu, double a = 0.4, double tol = 2.05)
   List rxCholperm(arma::mat Sig, arma::vec l, arma::vec u, double eps = 1e-10)
   List rxGradpsi(arma::vec y, arma::mat L, arma::vec l, arma::vec u)
   NumericVector rxNleq(arma::vec l, arma::vec u, arma::mat L)
   arma::mat rxMvrandn_(NumericMatrix A_, arma::rowvec mu, arma::mat sigma, arma::vec lower, arma::vec upper, int ncores = 1, double a = 0.4, double tol = 2.05, double nlTol = 1e-10, int nlMaxiter = 100)
   RObject rxSeedEng(int ncores = 1)
   IntegerVector rxnbinomMu_(int size, double mu, int n, int ncores)
   IntegerVector rxnbinom_(int size, double prob, int n, int ncores)
   IntegerVector rxbinom_(int n0, double prob, int n, int ncores)
   NumericVector rxcauchy_(double location, double scale, int n, int ncores)
   NumericVector rxchisq_(double df, int n, int ncores)
   NumericVector rxexp_(double rate, int n, int ncores)
   NumericVector rxf_(double df1, double df2, int n, int ncores)
   NumericVector rxgamma_(double shape, double rate, int n, int ncores)
   NumericVector rxbeta_(double shape1, double shape2, int n, int ncores)
   IntegerVector rxgeom_(double prob, int n, int ncores)
   NumericVector rxnorm_(double mean, double sd, int n, int ncores)
   IntegerVector rxpois_(double lambda, int n, int ncores)
   NumericVector rxt__(double df, int n, int ncores)
   NumericVector rxunif_(double low, double hi, int n, int ncores)
   NumericVector rxweibull_(double shape, double scale, int n, int ncores)
   SEXP rxRmvn0(NumericMatrix& A_, arma::rowvec mu, arma::mat sigma, arma::vec lower, arma::vec upper, int ncores = 1, bool isChol = false, double a = 0.4, double tol = 2.05, double nlTol = 1e-10, int nlMaxiter = 100)
   SEXP rxRmvnSEXP(SEXP nS, SEXP muS, SEXP sigmaS, SEXP lowerS, SEXP upperS, SEXP ncoresS, SEXP isCholS, SEXP keepNamesS, SEXP aS, SEXP tolS, SEXP nlTolS, SEXP nlMaxiterS)
   NumericVector rpp_(SEXP nS, SEXP lambdaS, SEXP gammaS, SEXP probS, SEXP t0S, SEXP tmaxS, SEXP randomOrderS)
   double rxordSelect(double u, NumericVector cs)

Exports from /home/bill/GitHub/nlmixr2CRANtesting/packages/rxode2random/src/seed.cpp:
   int rxGetSeed()

/home/bill/GitHub/nlmixr2CRANtesting/packages/rxode2random/src/RcppExports.cpp updated.
/home/bill/GitHub/nlmixr2CRANtesting/packages/rxode2random/R/RcppExports.R updated.
Re-compiling rxode2random
* installing *source* package ‘rxode2random’ ...
** using staged installation
--------[begin src/Makevars]--------
# -*- mode: makefile-gmake -*-

CXX_STD = CXX14
CXX14STD = -std=gnu++14

################################################################################
## Package library flags.
PKG_LIBS    = $(LAPACK_LIBS) $(BLAS_LIBS) $(FLIBS) $(SHLIB_OPENMP_CXXFLAGS)

# Release options
PKG_CFLAGS  =  -D_isrxode2random_
PKG_CXXFLAGS = $(SHLIB_OPENMP_CXXFLAGS) -D_isrxode2random_ -DBOOST_DISABLE_ASSERTS -DBOOST_NO_CXX11_STATIC_ASSERT -DBOOST_PHOENIX_NO_VARIADIC_EXPRESSION -DBOOST_NO_AUTO_PTR -D_REENTRANT


--------[end src/Makevars]--------
--------[begin R/rxode2random_md5.R]--------
rxode2random.md5 <- "20aa35f3ae6b3c0eb4bdbeedb86244bf"

--------[end R/rxode2random_md5.R]--------
** libs
g++ -std=gnu++14 -I"/usr/share/R/include" -DNDEBUG  -I'/home/bill/R/x86_64-pc-linux-gnu-library/4.2/sitmo/include' -I'/home/bill/R/x86_64-pc-linux-gnu-library/4.2/rxode2parse/include' -I'/home/bill/R/x86_64-pc-linux-gnu-library/4.2/Rcpp/include' -I'/home/bill/R/x86_64-pc-linux-gnu-library/4.2/RcppArmadillo/include' -I'/home/bill/R/x86_64-pc-linux-gnu-library/4.2/BH/include'   -fopenmp -D_isrxode2random_ -DBOOST_DISABLE_ASSERTS -DBOOST_NO_CXX11_STATIC_ASSERT -DBOOST_PHOENIX_NO_VARIADIC_EXPRESSION -DBOOST_NO_AUTO_PTR -D_REENTRANT -fpic  -g -O2 -ffile-prefix-map=/build/r-base-Faorqz/r-base-4.2.2.20221110=. -fstack-protector-strong -Wformat -Werror=format-security -Wdate-time -D_FORTIFY_SOURCE=2  -c RcppExports.cpp -o RcppExports.o
g++ -std=gnu++14 -I"/usr/share/R/include" -DNDEBUG  -I'/home/bill/R/x86_64-pc-linux-gnu-library/4.2/sitmo/include' -I'/home/bill/R/x86_64-pc-linux-gnu-library/4.2/rxode2parse/include' -I'/home/bill/R/x86_64-pc-linux-gnu-library/4.2/Rcpp/include' -I'/home/bill/R/x86_64-pc-linux-gnu-library/4.2/RcppArmadillo/include' -I'/home/bill/R/x86_64-pc-linux-gnu-library/4.2/BH/include'   -fopenmp -D_isrxode2random_ -DBOOST_DISABLE_ASSERTS -DBOOST_NO_CXX11_STATIC_ASSERT -DBOOST_PHOENIX_NO_VARIADIC_EXPRESSION -DBOOST_NO_AUTO_PTR -D_REENTRANT -fpic  -g -O2 -ffile-prefix-map=/build/r-base-Faorqz/r-base-4.2.2.20221110=. -fstack-protector-strong -Wformat -Werror=format-security -Wdate-time -D_FORTIFY_SOURCE=2  -c checkmate.cpp -o checkmate.o
gcc -I"/usr/share/R/include" -DNDEBUG  -I'/home/bill/R/x86_64-pc-linux-gnu-library/4.2/sitmo/include' -I'/home/bill/R/x86_64-pc-linux-gnu-library/4.2/rxode2parse/include' -I'/home/bill/R/x86_64-pc-linux-gnu-library/4.2/Rcpp/include' -I'/home/bill/R/x86_64-pc-linux-gnu-library/4.2/RcppArmadillo/include' -I'/home/bill/R/x86_64-pc-linux-gnu-library/4.2/BH/include'   -D_isrxode2random_ -fpic  -g -O2 -ffile-prefix-map=/build/r-base-Faorqz/r-base-4.2.2.20221110=. -fstack-protector-strong -Wformat -Werror=format-security -Wdate-time -D_FORTIFY_SOURCE=2  -c checkmate_stub.c -o checkmate_stub.o
g++ -std=gnu++14 -I"/usr/share/R/include" -DNDEBUG  -I'/home/bill/R/x86_64-pc-linux-gnu-library/4.2/sitmo/include' -I'/home/bill/R/x86_64-pc-linux-gnu-library/4.2/rxode2parse/include' -I'/home/bill/R/x86_64-pc-linux-gnu-library/4.2/Rcpp/include' -I'/home/bill/R/x86_64-pc-linux-gnu-library/4.2/RcppArmadillo/include' -I'/home/bill/R/x86_64-pc-linux-gnu-library/4.2/BH/include'   -fopenmp -D_isrxode2random_ -DBOOST_DISABLE_ASSERTS -DBOOST_NO_CXX11_STATIC_ASSERT -DBOOST_PHOENIX_NO_VARIADIC_EXPRESSION -DBOOST_NO_AUTO_PTR -D_REENTRANT -fpic  -g -O2 -ffile-prefix-map=/build/r-base-Faorqz/r-base-4.2.2.20221110=. -fstack-protector-strong -Wformat -Werror=format-security -Wdate-time -D_FORTIFY_SOURCE=2  -c cvPost.cpp -o cvPost.o
g++ -std=gnu++14 -I"/usr/share/R/include" -DNDEBUG  -I'/home/bill/R/x86_64-pc-linux-gnu-library/4.2/sitmo/include' -I'/home/bill/R/x86_64-pc-linux-gnu-library/4.2/rxode2parse/include' -I'/home/bill/R/x86_64-pc-linux-gnu-library/4.2/Rcpp/include' -I'/home/bill/R/x86_64-pc-linux-gnu-library/4.2/RcppArmadillo/include' -I'/home/bill/R/x86_64-pc-linux-gnu-library/4.2/BH/include'   -fopenmp -D_isrxode2random_ -DBOOST_DISABLE_ASSERTS -DBOOST_NO_CXX11_STATIC_ASSERT -DBOOST_PHOENIX_NO_VARIADIC_EXPRESSION -DBOOST_NO_AUTO_PTR -D_REENTRANT -fpic  -g -O2 -ffile-prefix-map=/build/r-base-Faorqz/r-base-4.2.2.20221110=. -fstack-protector-strong -Wformat -Werror=format-security -Wdate-time -D_FORTIFY_SOURCE=2  -c fast_factor.cpp -o fast_factor.o
gcc -I"/usr/share/R/include" -DNDEBUG  -I'/home/bill/R/x86_64-pc-linux-gnu-library/4.2/sitmo/include' -I'/home/bill/R/x86_64-pc-linux-gnu-library/4.2/rxode2parse/include' -I'/home/bill/R/x86_64-pc-linux-gnu-library/4.2/Rcpp/include' -I'/home/bill/R/x86_64-pc-linux-gnu-library/4.2/RcppArmadillo/include' -I'/home/bill/R/x86_64-pc-linux-gnu-library/4.2/BH/include'   -D_isrxode2random_ -fpic  -g -O2 -ffile-prefix-map=/build/r-base-Faorqz/r-base-4.2.2.20221110=. -fstack-protector-strong -Wformat -Werror=format-security -Wdate-time -D_FORTIFY_SOURCE=2  -c init.c -o init.o
g++ -std=gnu++14 -I"/usr/share/R/include" -DNDEBUG  -I'/home/bill/R/x86_64-pc-linux-gnu-library/4.2/sitmo/include' -I'/home/bill/R/x86_64-pc-linux-gnu-library/4.2/rxode2parse/include' -I'/home/bill/R/x86_64-pc-linux-gnu-library/4.2/Rcpp/include' -I'/home/bill/R/x86_64-pc-linux-gnu-library/4.2/RcppArmadillo/include' -I'/home/bill/R/x86_64-pc-linux-gnu-library/4.2/BH/include'   -fopenmp -D_isrxode2random_ -DBOOST_DISABLE_ASSERTS -DBOOST_NO_CXX11_STATIC_ASSERT -DBOOST_PHOENIX_NO_VARIADIC_EXPRESSION -DBOOST_NO_AUTO_PTR -D_REENTRANT -fpic  -g -O2 -ffile-prefix-map=/build/r-base-Faorqz/r-base-4.2.2.20221110=. -fstack-protector-strong -Wformat -Werror=format-security -Wdate-time -D_FORTIFY_SOURCE=2  -c rxthreefry.cpp -o rxthreefry.o
g++ -std=gnu++14 -I"/usr/share/R/include" -DNDEBUG  -I'/home/bill/R/x86_64-pc-linux-gnu-library/4.2/sitmo/include' -I'/home/bill/R/x86_64-pc-linux-gnu-library/4.2/rxode2parse/include' -I'/home/bill/R/x86_64-pc-linux-gnu-library/4.2/Rcpp/include' -I'/home/bill/R/x86_64-pc-linux-gnu-library/4.2/RcppArmadillo/include' -I'/home/bill/R/x86_64-pc-linux-gnu-library/4.2/BH/include'   -fopenmp -D_isrxode2random_ -DBOOST_DISABLE_ASSERTS -DBOOST_NO_CXX11_STATIC_ASSERT -DBOOST_PHOENIX_NO_VARIADIC_EXPRESSION -DBOOST_NO_AUTO_PTR -D_REENTRANT -fpic  -g -O2 -ffile-prefix-map=/build/r-base-Faorqz/r-base-4.2.2.20221110=. -fstack-protector-strong -Wformat -Werror=format-security -Wdate-time -D_FORTIFY_SOURCE=2  -c seed.cpp -o seed.o
gcc -I"/usr/share/R/include" -DNDEBUG  -I'/home/bill/R/x86_64-pc-linux-gnu-library/4.2/sitmo/include' -I'/home/bill/R/x86_64-pc-linux-gnu-library/4.2/rxode2parse/include' -I'/home/bill/R/x86_64-pc-linux-gnu-library/4.2/Rcpp/include' -I'/home/bill/R/x86_64-pc-linux-gnu-library/4.2/RcppArmadillo/include' -I'/home/bill/R/x86_64-pc-linux-gnu-library/4.2/BH/include'   -D_isrxode2random_ -fpic  -g -O2 -ffile-prefix-map=/build/r-base-Faorqz/r-base-4.2.2.20221110=. -fstack-protector-strong -Wformat -Werror=format-security -Wdate-time -D_FORTIFY_SOURCE=2  -c utilc.c -o utilc.o
g++ -std=gnu++14 -shared -L/usr/lib/R/lib -Wl,-Bsymbolic-functions -flto=auto -ffat-lto-objects -flto=auto -Wl,-z,relro -o rxode2random.so RcppExports.o checkmate.o checkmate_stub.o cvPost.o fast_factor.o init.o rxthreefry.o seed.o utilc.o -llapack -lblas -lgfortran -lm -lquadmath -fopenmp -L/usr/lib/R/lib -lR
installing to /tmp/Rtmp1jh4uT/devtools_install_21712297e676/00LOCK-rxode2random/00new/rxode2random/libs
** checking absolute paths in shared objects and dynamic libraries
* DONE (rxode2random)
ℹ Testing rxode2random
✔ | F W S  OK | Context

⠏ |         0 | cholperm                                                        
⠋ |         1 | cholperm                                                        
⠹ |         3 | cholperm                                                        
⠼ |         5 | cholperm                                                        
⠦ |         7 | cholperm                                                        
⠇ |         9 | cholperm                                                        
⠋ |        11 | cholperm                                                        
⠹ |        13 | cholperm                                                        
⠼ |        15 | cholperm                                                        
⠦ |        17 | cholperm                                                        
⠇ |        19 | cholperm                                                        
⠋ |        21 | cholperm                                                        
⠙ |        22 | cholperm                                                        
⠹ |        23 | cholperm                                                        
⠼ |        25 | cholperm                                                        
⠦ |        27 | cholperm                                                        
⠇ |        29 | cholperm                                                        
⠋ |        31 | cholperm                                                        
⠹ |        33 | cholperm                                                        
✔ |        34 | cholperm [7.3s]

⠏ |         0 | cvpost                                                          
⠋ |         1 | cvpost                                                          
⠹ |         3 | cvpost                                                          
⠦ |         7 | cvpost                                                          
⠇ |         9 | cvpost                                                          
⠋ |        11 | cvpost                                                          
⠹ |        13 | cvpost                                                          
⠼ |        15 | cvpost                                                          
⠦ |        17 | cvpost                                                          
⠇ |        19 | cvpost                                                          
⠏ |        20 | cvpost                                                          
✔ |        21 | cvpost [1.6s]

⠏ |         0 | dfRep                                                           
⠋ |         1 | dfRep                                                           
⠙ |         2 | dfRep                                                           
⠹ |         3 | dfRep                                                           
⠼ |         5 | dfRep                                                           
⠦ |         7 | dfRep                                                           
⠇ |         9 | dfRep                                                           
⠋ |        11 | dfRep                                                           
⠹ |        13 | dfRep                                                           
⠼ |        15 | dfRep                                                           
✔ |        15 | dfRep [1.1s]

⠏ |         0 | phi                                                             
⠋ |         1 | phi                                                             
✔ |         2 | phi [0.2s]

⠏ |         0 | random                                                          
⠋ |         1 | random                                                          
⠹ |         3 | random                                                          
⠸ |         4 | random                                                          
⠴ |         6 | random                                                          
⠧ |         8 | random                                                          
⠏ |        10 | random                                                          
⠙ |        12 | random                                                          
⠸ |        14 | random                                                          
⠴ |        16 | random                                                          
⠧ |        18 | random                                                          
⠏ |        20 | random                                                          
⠋ |        21 | random                                                          
⠹ |        23 | random                                                          
⠼ |        25 | random                                                          
✔ |        26 | random [2.6s]

══ Results ═════════════════════════════════════════════════════════════════════
Duration: 13.1 s

[ FAIL 0 | WARN 0 | SKIP 0 | PASS 98 ]
> 
> 
==8561== 
==8561== HEAP SUMMARY:
==8561==     in use at exit: 149,410,474 bytes in 30,094 blocks
==8561==   total heap usage: 394,913 allocs, 364,819 frees, 478,215,682 bytes allocated
==8561== 
==8561== 352 bytes in 1 blocks are possibly lost in loss record 232 of 2,646
==8561==    at 0x484DA83: calloc (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==8561==    by 0x40147D9: calloc (rtld-malloc.h:44)
==8561==    by 0x40147D9: allocate_dtv (dl-tls.c:375)
==8561==    by 0x40147D9: _dl_allocate_tls (dl-tls.c:634)
==8561==    by 0x4DB3834: allocate_stack (allocatestack.c:430)
==8561==    by 0x4DB3834: pthread_create@@GLIBC_2.34 (pthread_create.c:647)
==8561==    by 0xD30368E: cli__start_thread (thread.c:54)
==8561==    by 0xD3036D7: clic_start_thread (thread.c:78)
==8561==    by 0x49538BD: ??? (in /usr/lib/R/lib/libR.so)
==8561==    by 0x499577D: ??? (in /usr/lib/R/lib/libR.so)
==8561==    by 0x49AB6EF: Rf_eval (in /usr/lib/R/lib/libR.so)
==8561==    by 0x49AD27E: ??? (in /usr/lib/R/lib/libR.so)
==8561==    by 0x49AE0C4: Rf_applyClosure (in /usr/lib/R/lib/libR.so)
==8561==    by 0x499B8C9: ??? (in /usr/lib/R/lib/libR.so)
==8561==    by 0x49AB6EF: Rf_eval (in /usr/lib/R/lib/libR.so)
==8561== 
==8561== LEAK SUMMARY:
==8561==    definitely lost: 0 bytes in 0 blocks
==8561==    indirectly lost: 0 bytes in 0 blocks
==8561==      possibly lost: 352 bytes in 1 blocks
==8561==    still reachable: 149,410,122 bytes in 30,093 blocks
==8561==                       of which reachable via heuristic:
==8561==                         newarray           : 4,264 bytes in 1 blocks
==8561==         suppressed: 0 bytes in 0 blocks
==8561== Reachable blocks (those to which a pointer was found) are not shown.
==8561== To see them, rerun with: --leak-check=full --show-leak-kinds=all
==8561== 
==8561== For lists of detected and suppressed errors, rerun with: -s
==8561== ERROR SUMMARY: 1 errors from 1 contexts (suppressed: 0 from 0)
